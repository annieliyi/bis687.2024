---
title: "aim1_plots"
author: "Wanjing Chen"
date: "2024-04-07"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(dplyr)
library(tidyr)
library(ggplot2)
```


```{r}
var_full <- readRDS("processed_meta.rds")
scd_data_yr3_label <- readRDS("processed_scd_data.rds")
naming_vec <- readRDS("var_labels.RDS")
df_lst <- readRDS("categorized_dfsubset.RDS")
source("R/visualize_data.R")
```



```{r}
data_visualization <- lapply(seq_len(length(df_lst)), function(i){
  df_i <- df_lst[[i]]
  
  exclude = NULL
  id = NULL
  if("RACEGP" %in% colnames(df_i)){
    exclude  = c(exclude, "RACEGP")
  }
  if("YEARTX" %in% colnames(df_i)){
    exclude = c(exclude, "YEARTX")
  }
  if("DUMMYID" %in% colnames(df_i)){
    id = c(id, "DUMMYID")
  }
  ret <- visualize_data(df_i, id, 
                 exclude, naming_vec, 
                 names(df_lst)[i])
  })
  


data_visualization

```

