---
title: "aim1_tables"
author: "Wanjing Chen"
date: "2024-04-07"
output:
  word_document: default
  html_document: default
  pdf_document: default
header-includes: "\\usepackage{booktabs} - \\usepackage{longtable}"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r}
library(dplyr)
```


```{r}
source("R/summarize_data.R")
var_full <- readRDS("processed_meta.rds")
scd_data_yr3_label <- readRDS("cleaned_scd_data.rds")
naming_vec <- readRDS("var_labels.RDS")
df_lst <- readRDS("categorized_dfsubset.RDS")
```



```{r}
data_summary <- lapply(seq_len(length(df_lst)), function(i){
  df_i <- df_lst[[i]]
  
  exclude = NULL
  id = NULL
  if("RACEGP" %in% colnames(df_i)){
    exclude  = c(exclude, "RACEGP")
  }
  if("YEARTX" %in% colnames(df_i)){
    exclude = c(exclude, "YEARTX")
  }
  if("DUMMYID" %in% colnames(df_i)){
    id = c(id, "DUMMYID")
  }
  ret <- summarize_data(df_i, id, 
                 exclude, naming_vec, 
                 names(df_lst)[i])
  
})


```